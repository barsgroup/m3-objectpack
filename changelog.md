# История изменений
**2.2.40**
- Исправлен порядок подбора парсеров для FilterByField, datetime никогда не
  выбирался до этого.
- Исправлено E741 ambiguous variable name 'l' в **observer/base.py**.

**2.2.39**
- Поднята требуемая версия `m3-ui` до 2.2.87.
- Добавленно по умолчанию в гриде еденичный выбор строки

**2.2.38**
- Метод ObjectPack.save_row() принимает произвольное количество аргументов.

**2.2.37**
- Поднята требуемая версия `m3-ui` до 2.2.75.

**2.2.36**
- Добавлен интерфейс для поля модели с маской ввода (`IMaskRegexField`);
- Реализовано добавление маски из поля, соответствующего интерфейсу `IMaskRegexField`;
- Реализовано добавление `ctl.regex` из валидатора.


**2.2.35**
- Добавлена возможность указывать контейнер для окон.
- Исправлена ссылка на pypi.bars-open.ru

**2.2.34**
- Исправлено получение логгера в `objectpack.observer.base`.

**2.2.33**
- Багфикс в `VirtualModelManager._operators`, доработан фильтр 'icontains'.

**2.2.32**
- Багфикс в `TreeObjectPack.get_rows_query`, доработано определение
  корневого узла.

**2.2.31**
- Добавлена фильтрация объектов `VirtualModel` по пересечению множеств.

**2.2.30**
- Исправлено получение настроек дополнительных данных при формировании окна
  выбора связанного объекта.

**2.2.29**
- Добавлена возможность передавать дополнительные данные в поле связанного
  объекта из окна выбора.

**2.2.28**
- Багфикс сортировки объектов `VirtualModel`: не было реализовано сравнение
  с `None`.

**2.2.27**
- Добавлена подержка django 2.0.

**2.2.26**
- Добавлен декоратор ``@atomic`` для экшена сохранения объекта
- Исправлена инициализация пака для возможности расширения гридов.

**2.2.25**
- Багфикс в методе `TreeObjectPack.apply_search`: в Python 3 некорректно
  обрабатывались значения `None`.
- Добавлена поддержка `NullBooleanField` в функцию `_create_control_for_field`.

**2.2.24**
- Багфикс определения количества объектов VirtualModel.

**2.2.23**
- Багфикс в коде копирования колонок с фильтрами - дублировался uid
  фильтра родителя.

**2.2.22**
- Багфикс в коде выбора всех обьектов в MultiSelectWindow при отключенном
  разбивании данных на страницы.

**2.2.21**
- Добавлена функция `objectpack.tools.copy_columns`.
- Багфикс в коде формировании формы редактирования. Если значение по умолчанию
  для внешнего ключа содержит идентификатор несуществующей записи, то при
  формировании формы возникало необработанное исключение model.DoesNotExist.

**2.2.20**
- Удалено использование pip API в связи с тем, что в версии 10 оно было
  закрыто.

**2.2.19**
- Багфикс установки метода skip_last объекта класса QuerySplitter

**2.2.18**
- Багфикс при инициализации механизма колоночной фильтрации

**2.2.17**

СОДЕРЖИТ ОШИБКУ, используйте версию 2.2.18

- Добавлена возможность выставлять значения по-умолчанию в колоночных фильтрах

**2.2.16**
- Багфикс при работе с VirtualModel.

**2.2.15**
- Багфикс при обращении к методу `__unicode__` объектов моделей в Python 3.

**2.2.14 (ВЕРСИЯ С ОШИБКАМИ)**
- Поддержка Python 3.

**2.2.13**
- Добавлена возможность указывать порядок полей при использовании `model_fields_to_controls`.

**2.2.12**
- Заменено использование функции strftime, не умеющей работать с датами
 до 1900 года в Python 2.

**2.2.11**
- Исправление выбора всех записей в окне выбора с учетом всех страниц.

**2.2.10**
- В `ObjectPack` добавлена возможность переопределять получение колонок на основе переданных параметров.

**2.2.9**
- Добавление строки поиска в гриде перенесено в m3-ui в ExtObjectGrid / ExtObjectTree

**2.2.8**

- В TreeObjectPack добавлена возможность просмотра вложенных элементов в
  результатах поиска.

**2.2.7**

- Багфикс привзяки валидаторов при генерации контролов по полям модели.

**2.2.6**

- Багфикс в коде генерации контролов по полям модели (см. версию 2.2.5).

**2.2.5**

СОДЕРЖИТ ОШИБКУ, ИСПОЛЬЗУЙТЕ версию 2.2.6.

- Добавлена поддержка валидаторов:
  - `MinLengthValidator` и `MaxLengthValidator` -- для текстовых полей;
  - `MinValueValidator` и `MaxValueValidator` -- для числовых полей и полей
    ввода даты/времени.

**2.2.4**
- Изменения для совместимости с Django 1.10.

**2.2.3**
- Изменения для совместимости с Django 1.8+.

**2.2.2**
- Изменения для совместимости с Django 1.8+.

**2.2.1**
- Корректировка импортов из ``django.conf.urls`` --- импорты из
  ``django.conf.urls.defaults`` заменены на импорты из ``django.conf.urls`` в
  связи с тем, что в Django 1.4 функции из ``django.conf.urls.defaults`` были
  [перенесены](https://docs.djangoproject.com/en/1.9/releases/1.4/#django-conf-urls-defaults)
  в ``django.conf.urls``, а в Django 1.6 модуль ``django.conf.urls.defaults``
  был удален.
- Минимально поддерживаемая версия Django --- 1.4.

**2.2.0**
- Для обеспечения совместимости с Django>=1.7 вместо `django.utils.simplejson`
  задействован модуль `json`.

**2.0.23.5**
- Исправлена ошибка в обработке отсутствия объекта в БД при его удалении в
  `ObjectPack.delete_row()`.

**2.0.23.4**
- Добавлена обработка отсутствия объекта в БД при его удалении в
  `ObjectPack.delete_row()`.

**2.0.23.3**
- Исправлена ошибка в колоночном фильтре "выбор из окна справочника"

**2.0.23.2**
- Проверка наличия выбранного в окне множественного выбора из справочника

**2.0.23.1**
- Добавлена возможность обработки пост-сохранения объекта подписчиками

**2.0.23**
- Добавлен компонент ComboBoxScrollWithStore

**2.0.22.8**
- При генерации элемента управления ExtTextArea учитывается max_length из соот-го поля модели

**2.0.22.7**
- Значения по-умолчанию для автодекларация start/limit для rows_action в случае allow_paging=True

**2.0.22.6**
- Фикс ошибки при генерации элемента управления для ExtTimeField
- pep8

**2.0.22.5**
- Автодекларация start/limit для rows_action в случае allow_paging=True

**2.0.22.4**
- Исправление pep8

**2.0.22.3**
- Генерация элемента управления ExtNumberField для поля модели DecimalField
- Генерация элемента управления ExtTimeField для поля модели TimeField (вместо ExtStringField)
- Обработка django.core.exceptions.ValidationError при сохранении объекта в save_row

**2.0.22.2**
- Добавлена возможность указывать select_related поля для модели и для каждой колонки
- Исправлен автокомплит в dict_select_field по "деревянному" паку
- Исправлена регистрация субпаков в Observer

**2.0.22.1**
- поправлена регистрация паков в обсервер

**2.0.22**
- DoesNotExists теперь корректно обрабатывается при сериализации объектов для отображения в гридах.
- Observer теперь конфигурируется при первом запросе, а не при старте проекта (т.с. значительно сокращается время запуска dev-server)
- При автогенерации контролов для численных полей теперь учитывается специфика этих полей (целые/дробные, неотрицательные и проч.)
- Icon для меню, рабочего стола и тулбара берется из пака, а также индекс сортировки элементов интерфейса можно задать в паке
- Колоночные фильтры теперь нормально работают и для вложенных полей (см демо)
- parent_id в TreeObjectPack теперь проверяется на None при биндинге
- None в контексте при неуказанном perent_id для экшнов TreeObjectPack
- Метакласс для ModelProxy теперь представлен классом, вместо функции и будет нормально наследоваться

**2.0.21**
- В TreeObjectPack поправлено сохранение корневых элементов
- Поправлено добавление на desktop нескольких submenu за один раз (кортежем)
- observer теперь обрабатывает overrided паки (m3-core>=2.0.11)
- Добавлены точки расширений для ObjectEditWindowAction

**2.0.20.2**
- Поправлено добавление на desktop нескольких submenu за один раз (кортежем)

**2.0.20.**
- Поправлено сохранение и удаление записей в TreeObjectPack

**2.0.19**
- Исправлена декларация контекста у экшна добавления в корень для TreeObjectPack

**2.0.18**
- Назначение шаблона для TabbedWindow перенесено из атрибута класса в set_params

**2.0.17**
- filters.FilterByField теперь может пробрасывать параметры фабрике контролов
- Поправлен QuerySplitter, который раньше делал лишний запрос при count < limit

**2.0.12**
**0.7.3.14**
- Ошибки недодекларации контекста в debug=False-режиме не отображаются, но пишутся в лог. При этом в контекст попадает всё из request-а, даже то, что не задекларировано, но при использовании незадекларированных атрибутов в лог пишутся предупреждения.

**2.0.10**
**0.7.3.12**
- Теперь у экземляров ComboBoxWithStore с заполнением по экшну не будет кнопки выбора из справочника (т.к. справочник не привязывается всё равно)

**2.0.9**
**0.7.3.11**

- Теперь *SelectorWindowAction* не требует обязательного *callback_url*

**2.0.7**

- Полностью задекларирован контекст для всех экшнов в *SlavePack*

**2.0.5**

- Мелкие правки. Изменилась декларация контекста для *save_action* и *new_window_action*!

**2.0.4**
**0.7.3.10**

- Доработана декларация контекста для SlavePack
